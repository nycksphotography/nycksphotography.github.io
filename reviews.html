<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Reviews – KS Photography</title>

<style>
:root{
  --bg:#0b0b0b;
  --gold:#d4af37;
  --text:#f3f3f3;
  --muted:rgba(243,243,243,.7);
  --line:rgba(212,175,55,.35);
  --card: rgba(255,255,255,.03);
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",Arial,sans-serif;
  background:
    radial-gradient(1200px 600px at 50% 0%, rgba(212,175,55,.14), transparent 55%),
    var(--bg);
  color:var(--text);
}

.wrap{
  max-width:760px;
  margin:0 auto;
  padding:28px 18px 60px;
}

.panel{
  border:1px solid var(--line);
  border-radius:22px;
  background:linear-gradient(180deg, rgba(255,255,255,.04), transparent);
  padding:26px 18px 32px;
}

h1{
  text-align:center;
  color:var(--gold);
  letter-spacing:1px;
  margin:0;
}

.intro{
  text-align:center;
  color:var(--muted);
  margin:14px auto 18px;
  font-size:16px;
  max-width:520px;
}

.divider{
  height:1px;
  background:var(--line);
  margin:18px auto 22px;
}

.card{
  background:var(--card);
  border:1px solid rgba(255,255,255,.08);
  border-radius:18px;
  padding:18px;
  margin-bottom:22px;
}

label{
  display:block;
  font-weight:700;
  margin-bottom:6px;
}

input, textarea{
  width:100%;
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.12);
  border-radius:14px;
  padding:14px;
  color:var(--text);
  font-size:15px;
}

textarea{min-height:110px;resize:none}

.stars{
  display:flex;
  gap:10px;
  margin-top:10px;
}

.star{
  width:46px;
  height:46px;
  border-radius:12px;
  border:1px solid var(--line);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  font-size:22px;
  color:var(--gold);
  opacity:.35;
  transition:.15s;
}

.star.active{
  opacity:1;
  box-shadow:0 0 0 1px var(--gold);
}

.star:hover{opacity:.9}

.starCount{
  margin-top:8px;
  font-size:14px;
  color:var(--muted);
}

.btn{
  width:100%;
  height:64px;
  border-radius:999px;
  border:none;
  background:linear-gradient(180deg, rgba(212,175,55,.95), rgba(212,175,55,.8));
  font-weight:800;
  font-size:18px;
  cursor:pointer;
  margin-top:18px;
}

.btnOutline{
  background:transparent;
  border:1px solid var(--line);
  color:var(--gold);
}

.error{
  color:#ff6b6b;
  font-size:14px;
  margin-top:10px;
  display:none;
}

.review{
  padding:14px;
  border-bottom:1px solid rgba(255,255,255,.08);
}

.review:last-child{border-bottom:none}

.reviewName{font-weight:700}
.reviewStars{color:var(--gold)}
.reviewText{color:var(--muted); margin-top:6px}
</style>
</head>

<body>
<div class="wrap">
  <div class="panel">
    <h1>Reviews</h1>
    <div class="intro">
      We truly appreciate every review. Your feedback helps future clients feel confident and allows us to continue delivering unforgettable experiences.
    </div>

    <div class="divider"></div>

    <div class="card">
      <label>Your name</label>
      <input id="name" placeholder="Full name" />

      <label style="margin-top:16px;">Stars</label>
      <div class="stars" id="stars">
        <div class="star" data-val="1">★</div>
        <div class="star" data-val="2">★</div>
        <div class="star" data-val="3">★</div>
        <div class="star" data-val="4">★</div>
        <div class="star" data-val="5">★</div>
      </div>
      <div class="starCount" id="starCount">Select a rating</div>

      <label style="margin-top:16px;">Review</label>
      <textarea id="review" placeholder="Write your review..."></textarea>

      <div class="error" id="errorMsg">Please select a star rating before submitting.</div>

      <button class="btn" onclick="submitReview()">Submit Review</button>
      <button class="btn btnOutline" onclick="location.href='index.html'">Back to Home</button>
    </div>

    <div class="card">
      <h3 style="margin-top:0;">Recent Reviews</h3>
      <div id="reviews"></div>
    </div>

    <div style="text-align:center;color:rgba(243,243,243,.55);font-size:13px;margin-top:18px;">
      © 2026 KS Photography
    </div>
  </div>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzphK-YtvCl37sTNd-Nx2ONXos-rd5raUTRFVBMRsVvRK4Lfgdjvow3ROz0NTNJ96aX/exec";

let selectedStars = 0;

document.querySelectorAll(".star").forEach(star=>{
  star.onclick = ()=>{
    selectedStars = Number(star.dataset.val);
    document.querySelectorAll(".star").forEach(s=>{
      s.classList.toggle("active", Number(s.dataset.val)<=selectedStars);
    });
    document.getElementById("starCount").innerText = `${selectedStars} / 5`;
    document.getElementById("errorMsg").style.display="none";
  };
});

function submitReview(){
  if(selectedStars === 0){
    document.getElementById("errorMsg").style.display="block";
    return;
  }

  fetch(SCRIPT_URL,{
    method:"POST",
    body:JSON.stringify({
      name:document.getElementById("name").value,
      stars:selectedStars,
      review:document.getElementById("review").value
    })
  }).then(()=>{
    alert("Thank you for your review!");
    location.reload();
  });
}

function loadReviews(){
  fetch(SCRIPT_URL)
    .then(r=>r.json())
    .then(data=>{
      const box=document.getElementById("reviews");
      box.innerHTML="";
      data.forEach(r=>{
        box.innerHTML+=`
          <div class="review">
            <div class="reviewName">${r.name}</div>
            <div class="reviewStars">${"★".repeat(r.stars)}</div>
            <div class="reviewText">${r.review}</div>
          </div>`;
      });
    });
}
loadReviews();
</script>
</body>
</html>